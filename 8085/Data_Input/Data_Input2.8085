INIT:
    MVI A,0DH       ;Αρχικοποιήσεις μάσκας
    SIM             
    LXI H,00H       ;Μηδενισμός συσσωρευτή
    MVI C,64d       ;64 φορές θα γίνουν εισαγωγές για τους 32 αριθμούς
    EI              ;Ενεργοποίηση διακοπών

ADDR:
    MOV A,C         ;Έλεγχος αν υπάρχει δεδομένο για λήψη
    CPI 00H         ;Αν είναι μηδέν βγες
    JZ EXIT

LOOP:
    IN 20H          ;Διαβάζω το δεδομένο ελέγχου
    ANI 80H         ;Αν προκύψει μονάδα στο x7 προσθέτουμε δεδομένα στο HL
    JPO DATA_ADDITION
    JMP LOOP        ;Αλλιώς έλεγξε ξανά

DATA_ADDITION
    MOV A,C         ;Μεταφέρουμε τον C για να ελεγξουμε αν έχουμε MSB ή LSB
    ANI 01H         ;Αν προκύψει περιττός C τότε θα μας μείνει μια μονάδα άρα έχουμε
    JPO ITS_MSB     ;διαβάσει MSB και πάμε στο αντίστοιχο branch
    IN 20H          ;Διαβάζουμε  τα δεδομένα
    MOV B,A         ;Τα μεταφέρουμε στο B για προσωρινή αποθηκευση μέχρι να διαβάσουμε MSB

ITS_MSB:
    IN 20H          ;Διαβάζουμε τα δεδομένα
    RLC             ;4 στροφές αριστερά για να τοποθετηθούν σωστά τα MSB
    RLC
    RLC
    RLC
    ORA B           ;Συνδυάζουμε τα MSB και LSB
    MVI D,00H       ;Μηδενίζουμε τον D
    MVI E,A         ;και τοποθετούμε τον Α στον Ε
    DAD D           ;προσθήκη δεδομένων
    DCR C           ;ελατώνουμε τον μετρητή

EXIT:
    DAD H
    DAD H
    DAD H
    MVI L,00H
    INR H
    HLT

